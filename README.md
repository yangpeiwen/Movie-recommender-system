# Movie-recommender-system

## 这是一个三人小组项目

### 整体流程

我们设计的推荐系统使用两种方法向用户推荐电影：基于内容的推荐和协同过滤。
首先用户需要在给定的四种类型中选择电影类型。然后，系统将随机向用户推荐18部相关类型的电影。
此时，用户需要为这18部电影打分。如果用户没有看过该电影，则不需要为其打分（至少要给一部电影打分）。
在对电影进行评级后，系统将分别以上述两种方式分别向用户推荐6部电影。
系统随后会要求用户选择推荐方法并对六部推荐的电影进行评分，然后单击“提交评分”按钮将评分提交给系统。
在完成上诉步骤后，用户可以单击“再次推荐”按钮，系统将为用户提供以下6部新电影的第二次推荐。
当然，用户还需要给这6部电影打分并提交评分。这样我们可以通过统计学方式评测两次推荐的效果。
测试阶段，我们邀请了20个用户参与测试。

### 我所负责的部分

我所负责的部分是网站整体后端设计以及基于内容的推荐算法设计。使用fastapi架构，数据集用的Movielen。
基于内容的推荐算法，首先将电影的genres类型用one hot编码，然后获取前端传来的用户评级数据，用来建立一个user_profile，这个profile存储了用户对于各种genres信息的偏好程度，可以通过KNN寻找top k个相似的电影进行推荐。
两次电影推荐的时候可能重复推荐，所以第二次推荐结果将根据第一个推荐的电影删除重复部分。
考虑到算法的可解释性，我编写了一个API来返回“uesr_profile”，让用户在前端页面能够知道我们的推荐系统基于什么内容给用户反馈。

### 效果评估

从“t-test.pdf”中显示的信息表中，我们可以看到，我们的大多数用户是学生，大约25岁，男性占大多数。因此，用户兴趣取向应该相似。
从基于内容的算法的paired sample t-test结果可以看出，p值接近0.05，这意味着第二轮推荐的结果与第一轮推荐的结果有点显著不同。
然而，协同过滤算法的paired sample t-test结果表明，第一轮推荐和第二轮推荐之间没有显著差异。

two-sample t-test结果可以看出，两种算法在第一轮推荐中存在显著差异。根据平均评分，我们认为基于内容的算法优于协作过滤算法。
我们认为原因可能是协作过滤需要更多的rating数据或更详细的user_profile才能获取更好的效果。

另外从推荐速度来看，SVD协同过滤算法速度远远大于基于内容的推荐

